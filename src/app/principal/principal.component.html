<mat-toolbar class="nav-bar">
  <span>Gabriel Kojima - MNC</span>
</mat-toolbar>
<div class="col-12">
  <mat-card class="example-card mt-3">
    <mat-card-header>
      <mat-card-title>Métodos</mat-card-title>
      <mat-card-subtitle>Escolha um método</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div>
        <mat-form-field class="col-6">
          <mat-label>Método</mat-label>
          <mat-select
            [(ngModel)]="metodo"
            (selectionChange)="metodoForm.reset()"
          >
            <mat-option value="bisseccao">
              Bissecção
            </mat-option>
            <mat-option value="cordas">
              Cordas
            </mat-option>
            <mat-option value="cordasmod">
              Cordas Modificado
            </mat-option>
            <mat-option value="newton">
              Newton
            </mat-option>
            <mat-option value="newtonmod">
              Newton Modificado
            </mat-option>
          </mat-select>
        </mat-form-field>
        <form [formGroup]="metodoForm">
          <mat-form-field class="col-12" *ngIf="metodo">
            <input matInput placeholder="Função" formControlName="funcao" />
          </mat-form-field>
          <mat-form-field
            class="col-4"
            *ngIf="metodo && metodo !== 'newton' && metodo !== 'newtonmod'"
          >
            <input type="number" matInput placeholder="A" formControlName="a" />
          </mat-form-field>
          <mat-form-field
            class="col-4"
            *ngIf="metodo && metodo !== 'newton' && metodo !== 'newtonmod'"
          >
            <input type="number" matInput placeholder="B" formControlName="b" />
          </mat-form-field>
          <mat-form-field
            class="col-4"
            *ngIf="(metodo && metodo === 'newton') || metodo === 'newtonmod'"
          >
            <input
              type="number"
              matInput
              placeholder="X0"
              formControlName="x"
            />
          </mat-form-field>
          <mat-form-field class="col-4" *ngIf="metodo">
            <input
              type="number"
              matInput
              placeholder="Precisão"
              formControlName="precisao"
            />
          </mat-form-field>
        </form>
      </div>
      <div *ngIf="iteracoes.length !== 0" class="col-12 border">
        <p *ngFor="let it of iteracoes; let i = index" class="m-0">
          X = {{ it.ix }}, F(x) = {{ it.ifx }}, Iteração = {{ it.i }}
        </p>
      </div>
    </mat-card-content>
    <mat-card-actions style="display: flex;" class="border-top">
      <button
        mat-raised-button
        color="primary"
        style="margin-left: auto;"
        (click)="calcularMetodo(metodo)"
      >
        Calcular
      </button>
    </mat-card-actions>
  </mat-card>
</div>
